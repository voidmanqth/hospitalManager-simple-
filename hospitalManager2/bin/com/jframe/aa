
		//表格内容
		String sql = "select * from employer";
		Vector vec= tm.query(sql, 14);
		table = new DefaultTableModel(vec,Title.employertitle());

	private DefaultTableModel table;
	private TableModel tm = new TableModel();

		//表格
		String sql = "select id,name,power from admin";
		TableModel model = new TableModel();
		Vector vec = model.query(sql, 3);
		table = new DefaultTableModel(vec,Title.admintitle());
		jTable1.setModel(table);


		//从数据库里面取值放入科室中
		DeptModel deptmodel = new DeptModel();
		List list = deptmodel.queryAll();
		final int size = list.size();
		String[] deptitems = (String[])list.toArray(new String[size]);
		dept.setModel(new javax.swing.DefaultComboBoxModel(deptitems));
		
		jRadioButtonMan.setText("男");
		jRadioButtonMan.setSelected(true);
		jRadioButtonWomen.setText("女");
		buttonGroup1.add(jRadioButtonMan);
		buttonGroup1.add(jRadioButtonWomen);
		
		
		(id,dept,name,sex,idcard,birthday," +
					"origo,nationlity,nation,marriage,health,worktime,address,tel) " +
					"
/*
 * ManageAdmin.java
 *
 * Created on __DATE__, __TIME__
 */

package com.adminframe;

import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.util.Vector;

import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;

import com.dto.Admin;
import com.dto.Title;
import com.model.AdminModel;
import com.model.TableModel;

/**
 * 
 * @author __USER__
 */
public class ManageAdmin extends javax.swing.JInternalFrame implements
		MouseListener {

	/** Creates new form ManageAdmin */
	public ManageAdmin() {
		initComponents();
	}

	/**
	 * This method is called from within the constructor to initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is always
	 * regenerated by the Form Editor.
	 */
	// GEN-BEGIN:initComponents
	// <editor-fold defaultstate="collapsed" desc="Generated Code">
	private void initComponents() {

		jLabel1 = new javax.swing.JLabel();
		name = new javax.swing.JTextField();
		power = new javax.swing.JComboBox();
		jLabel2 = new javax.swing.JLabel();
		jLabel3 = new javax.swing.JLabel();
		jScrollPane1 = new javax.swing.JScrollPane();
		jScrollPane2 = new javax.swing.JScrollPane();
		jTable1 = new javax.swing.JTable();
		jButton2 = new javax.swing.JButton();
		jButton3 = new javax.swing.JButton();
		jButton4 = new javax.swing.JButton();

		jLabel1.setText("\u7ba1\u7406\u7528\u6237");

		power.setModel(new javax.swing.DefaultComboBoxModel(new String[] {
				"管理员", "普通用户" }));

		jLabel2.setText("\u767b\u5f55\u540d");

		jLabel3.setText("\u8eab\u4efd");
		// 表格
		TableModel model = new TableModel();
		Vector vec = model.query(sql, 3);
		table = new DefaultTableModel(vec, Title.admintitle());
		jTable1.setModel(table);
		jTable1.addMouseListener(this);

		jScrollPane2.setViewportView(jTable1);

		jScrollPane1.setViewportView(jScrollPane2);

		jButton2.setText("\u5220\u9664");
		jButton2.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				jButton2ActionPerformed(evt);
			}
		});

		jButton3.setText("\u53d6\u6d88");
		jButton3.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				jButton3ActionPerformed(evt);
			}
		});

		jButton4.setText("\u4fee\u6539");
		jButton4.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				jButton4ActionPerformed(evt);
			}
		});

		javax.swing.GroupLayout layout = new javax.swing.GroupLayout(
				getContentPane());
		getContentPane().setLayout(layout);
		layout
				.setHorizontalGroup(layout
						.createParallelGroup(
								javax.swing.GroupLayout.Alignment.LEADING)
						.addComponent(jScrollPane1,
								javax.swing.GroupLayout.Alignment.TRAILING,
								javax.swing.GroupLayout.DEFAULT_SIZE, 412,
								Short.MAX_VALUE)
						.addGroup(
								javax.swing.GroupLayout.Alignment.TRAILING,
								layout.createSequentialGroup().addContainerGap(
										166, Short.MAX_VALUE).addComponent(
										jLabel1).addGap(198, 198, 198))
						.addGroup(
								javax.swing.GroupLayout.Alignment.TRAILING,
								layout
										.createSequentialGroup()
										.addContainerGap(30, Short.MAX_VALUE)
										.addComponent(jLabel2)
										.addPreferredGap(
												javax.swing.LayoutStyle.ComponentPlacement.RELATED)
										.addComponent(
												name,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												119,
												javax.swing.GroupLayout.PREFERRED_SIZE)
										.addGap(28, 28, 28)
										.addComponent(jLabel3)
										.addPreferredGap(
												javax.swing.LayoutStyle.ComponentPlacement.RELATED)
										.addComponent(
												power,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												javax.swing.GroupLayout.DEFAULT_SIZE,
												javax.swing.GroupLayout.PREFERRED_SIZE)
										.addGap(93, 93, 93))
						.addGroup(
								layout
										.createSequentialGroup()
										.addGap(90, 90, 90)
										.addComponent(jButton2)
										.addPreferredGap(
												javax.swing.LayoutStyle.ComponentPlacement.RELATED)
										.addComponent(jButton4)
										.addPreferredGap(
												javax.swing.LayoutStyle.ComponentPlacement.RELATED)
										.addComponent(jButton3)
										.addContainerGap(139, Short.MAX_VALUE)));
		layout
				.setVerticalGroup(layout
						.createParallelGroup(
								javax.swing.GroupLayout.Alignment.LEADING)
						.addGroup(
								layout
										.createSequentialGroup()
										.addContainerGap()
										.addComponent(jLabel1)
										.addGap(11, 11, 11)
										.addComponent(
												jScrollPane1,
												javax.swing.GroupLayout.DEFAULT_SIZE,
												219, Short.MAX_VALUE)
										.addGap(28, 28, 28)
										.addGroup(
												layout
														.createParallelGroup(
																javax.swing.GroupLayout.Alignment.BASELINE)
														.addComponent(jLabel2)
														.addComponent(
																name,
																javax.swing.GroupLayout.PREFERRED_SIZE,
																javax.swing.GroupLayout.DEFAULT_SIZE,
																javax.swing.GroupLayout.PREFERRED_SIZE)
														.addComponent(
																power,
																javax.swing.GroupLayout.PREFERRED_SIZE,
																javax.swing.GroupLayout.DEFAULT_SIZE,
																javax.swing.GroupLayout.PREFERRED_SIZE)
														.addComponent(jLabel3))
										.addGap(27, 27, 27)
										.addGroup(
												layout
														.createParallelGroup(
																javax.swing.GroupLayout.Alignment.BASELINE)
														.addComponent(jButton2)
														.addComponent(jButton4)
														.addComponent(jButton3))
										.addGap(46, 46, 46)));

		pack();
	}// </editor-fold>

	// GEN-END:initComponents
	// 取消
	private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {
		this.dispose();
	}

	// 修改
	private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {
		// TODO add your handling code here:
	}

	// 删除
	private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {
		if(name.getText()==null){
			JOptionPane.showMessageDialog(this, "请选择用户");
		}
		AdminModel amodel = new AdminModel();
		
	}

	// GEN-BEGIN:variables
	// Variables declaration - do not modify
	private javax.swing.JButton jButton2;
	private javax.swing.JButton jButton3;
	private javax.swing.JButton jButton4;
	private javax.swing.JComboBox power;
	private javax.swing.JLabel jLabel1;
	private javax.swing.JLabel jLabel2;
	private javax.swing.JLabel jLabel3;
	private javax.swing.JScrollPane jScrollPane1;
	private javax.swing.JScrollPane jScrollPane2;
	private javax.swing.JTable jTable1;
	private javax.swing.JTextField name;
	private DefaultTableModel table;
	private String sql = "select id,name,power from admin";

	// End of variables declaration//GEN-END:variables
	@Override
	public void mouseClicked(MouseEvent e) {
		int r = jTable1.rowAtPoint(e.getPoint());
		jTable1.setRowSelectionInterval(r, r);
		int row = jTable1.getSelectedRow();
		int id = Integer.parseInt(table.getValueAt(row, 0).toString());
		AdminModel model = new AdminModel();
		Admin admin = model.queryOne(id);
		name.setText(admin.getName());
		power.setSelectedItem(admin.getPower());
	}

	@Override
	public void mouseEntered(MouseEvent e) {
		// TODO Auto-generated method stub

	}

	@Override
	public void mouseExited(MouseEvent e) {
		// TODO Auto-generated method stub

	}

	@Override
	public void mousePressed(MouseEvent e) {
		// TODO Auto-generated method stub

	}

	@Override
	public void mouseReleased(MouseEvent e) {
		// TODO Auto-generated method stub

	}

}

}